###### 1 January 2014 on Personal Blog

# [So this is 2014]

|[![halfsize][2]][1]|
|:---:|
| _Double Rainbow from Moana Park, QLD, AU_ |

A very Happy New Year to anyone reading this posting. This is really just
another test posting to make sure the methods I am describing in the
README.md actually do work.

This post was created with this script...

``` bash
#!/bin/sh
# newpost 20140130 (c) Mark Constable (AGPL-3.0)
#
# Usage: newpost My New Title
#
# Change the BOJAX variable below to the full path of your BoJAX repository and
# copy this script to /usr/bin/newpost then sudo chmod +x /usr/bin/newpost.

test -z "$BOJAX" && BOJAX=/home/admin/var/www/localhost # PLEASE CHANGE
test -z "$1" && TITLE="Untitled" || TITLE="$@"
test ! -d $BOJAX && echo "BoJAX docroot does not exist: $BOJAX" && exit 1
test ! -f $BOJAX/lib/md/1.md && echo "$BOJAX/lib/md/1.md does not exist" && exit 2

NEXT=`echo $(($(/bin/ls -1v $BOJAX/lib/md | tail -n 1 | cut -d. -f 1)+1))`
POST="lib/md/$NEXT.md"

cp $BOJAX/lib/md/1.md $BOJAX/lib/md/.1.md.bkp

cat << EOM > $BOJAX/$POST
###### `date "+%e %B %Y"` on Personal Blog

# [$TITLE]

EOM
echo "Create the first summary paragraph then ctrl-x"
sleep 2
nano -t -x -c +10 $BOJAX/$POST

cat $BOJAX/$POST > $BOJAX/lib/md/.1.md.tmp
echo >> $BOJAX/lib/md/.1.md.tmp
echo "[$TITLE]: /$NEXT" >> $BOJAX/lib/md/.1.md.tmp
echo >> $BOJAX/lib/md/.1.md.tmp
echo "---" >> $BOJAX/lib/md/.1.md.tmp
cat $BOJAX/lib/md/.1.md.bkp >> $BOJAX/lib/md/.1.md.tmp

echo "Now continue with the rest of your post and ctrl-x again"
sleep 2
nano -t -x -c +20 $BOJAX/$POST

cd $BOJAX
git add $POST
git commit -am "Added $POST"
git push
cd -
mv $BOJAX/lib/md/.1.md.tmp $BOJAX/lib/md/1.md
echo "Finished"
```

[So this is 2014]: /1
[1]: http://bojax.net/lib/img/double-rainbow.jpg
[2]: http://bojax.net/lib/img/double-rainbow-halfsize.jpg
